# CocoaPodsを使用しない(.xcodeprojを使用する)場合の例
machine:
  environment:
    XCODE_SCHEME: VirusAttack
    XCODE_PROJECT: VirusAttack.xcodeproj
    XCODE_TARGET: VirusAttack
    APPNAME: VirusAttack
    DEPLOYGATE_USER_NAME: gozaing
    DEVELOPER_NAME: "iPhone Distribution: Hideyasu Tobaru (58HMA45VD6)"
    PROFILE_NAME: "VirusAttackAdhoc.mobileprovision"
    # DEPLOYGATE_API_TOKEN: set from web form
    # P12_FILE_PASSWORD: set from web form
test:
  override:
    - xcodebuild
        CODE_SIGNING_REQUIRED=NO
        CODE_SIGN_IDENTITY=
        PROVISIONING_PROFILE=
        -project CircleCI-Sample.xcodeproj -scheme CircleCI-Sample -configuration Release -sdk iphonesimulator -destination 'platform=iOS Simulator,OS=8.1,name=iPhone 6'
        clean test

deployment:
  deploygate:
    branch: master
    owner: xxx
    commands:
      - ./scripts/add-key.sh
      - ./scripts/deploy.sh
      - ./scripts/remove-key.sh

